import{d as Y,z as N,r as p,o as T,c as U,s as $,a as r,h as u,b as o,e as i,t as l,l as B,A as f,p as V,q as A,_ as S}from"./index-DHcTEKWX.js";const O={class:"card-thumbnail"},P=["src","alt"],q={key:0,class:"offline-badge"},z={class:"card-content"},F={class:"game-title"},I={class:"game-description"},R={key:0,class:"game-author"},j={class:"author-name"},H={key:1,class:"game-clicks"},J={class:"clicks-count"},K={class:"card-meta"},Q={class:"game-category"},W={key:0,class:"player-count"},Z={class:"card-actions"},x=Y({__name:"GameCard",props:{game:{}},setup(b){const c=b,h=N(),s=p(null),n=p(!1),_=()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",m),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",g)};T(()=>{_()});const y=U(()=>c.game.thumbnailUrl||"https://via.placeholder.com/300x200?text=Game"),k=(e,t=80)=>e.length<=t?e:e.slice(0,t)+"...",M=e=>e?e>=1e3?`${(e/1e3).toFixed(1)}k`:e.toString():"0",C=e=>{const t=e.target;t.closest(".card-actions")||t.closest("a")||t.closest("button")||(s.value={x:e.clientX,y:e.clientY},n.value=!1,document.addEventListener("mousemove",d),document.addEventListener("mouseup",m))},d=e=>{if(s.value){const t=Math.abs(e.clientX-s.value.x),a=Math.abs(e.clientY-s.value.y);(t>5||a>5)&&(n.value=!0)}},m=()=>{s.value=null,document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",m)},E=e=>{const t=e.target;if(t.closest(".card-actions")||t.closest("a")||t.closest("button"))return;const a=e.touches[0];s.value={x:a.clientX,y:a.clientY},n.value=!1,document.addEventListener("touchmove",v),document.addEventListener("touchend",g)},v=e=>{if(s.value&&e.touches[0]){const t=e.touches[0],a=Math.abs(t.clientX-s.value.x),X=Math.abs(t.clientY-s.value.y);(a>5||X>5)&&(n.value=!0)}},g=()=>{s.value=null,document.removeEventListener("touchmove",v),document.removeEventListener("touchend",g)},L=e=>{},G=()=>{},w=e=>{if(n.value){console.log("æ£€æµ‹åˆ°æ‹–æ‹½ï¼Œé˜»æ­¢ç‚¹å‡»äº‹ä»¶"),n.value=!1;return}const t=e.target;if(t.closest(".card-actions")||t.closest("a")||t.closest("button")){console.log("ç‚¹å‡»çš„æ˜¯æŒ‰é’®æˆ–é“¾æŽ¥ï¼Œä¸æ‰§è¡Œå¡ç‰‡ç‚¹å‡»");return}console.log("å¯¼èˆªåˆ°æ¸¸æˆè¯¦æƒ…é¡µé¢:",`/game/${c.game.id}`),h.push(`/game/${c.game.id}`)},D=()=>{console.log("ä»Žæ¸¸æˆå¤§åŽ…å¼€å§‹æ¸¸æˆï¼ˆåˆ›å»ºæ–°æˆ¿é—´ï¼‰:",c.game.id),console.log("æ²¡æœ‰ä¼ é€’æˆ¿é—´å‚æ•°ï¼Œæ¸¸æˆå°†è‡ªåŠ¨ç”Ÿæˆæ–°æˆ¿é—´"),h.push(`/play/${c.game.id}`)};return(e,t)=>{const a=$("router-link");return u(),r("div",{class:"game-card",onClick:w,onMousedown:C,onMousemove:L,onMouseup:G,onTouchstart:E},[o("div",O,[o("img",{src:y.value,alt:e.game.title},null,8,P),e.game.isOfflineAvailable?(u(),r("div",q,t[2]||(t[2]=[o("span",null,"Available Offline",-1)]))):i("",!0)]),o("div",z,[o("h3",F,l(e.game.title),1),o("p",I,l(k(e.game.description)),1),e.game.author?(u(),r("div",R,[t[3]||(t[3]=o("span",{class:"author-label"},"By",-1)),o("span",j,l(e.game.author),1)])):i("",!0),e.game.clicks!==void 0?(u(),r("div",H,[t[4]||(t[4]=o("span",{class:"clicks-icon"},"ðŸ‘†",-1)),o("span",J,l(M(e.game.clicks))+" æ¬¡ç‚¹å‡»",1)])):i("",!0),o("div",K,[o("span",Q,l(e.game.category),1),e.game.playerCount?(u(),r("span",W,l(e.game.playerCount)+" players",1)):i("",!0)]),o("div",Z,[o("button",{onClick:[D,t[0]||(t[0]=f(()=>{},["stop"]))],class:"play-btn"},"Play Now"),B(a,{to:`/game/${e.game.id}`,class:"details-btn",onClick:t[1]||(t[1]=f(()=>{},["stop"]))},{default:V(()=>t[5]||(t[5]=[A("Details")])),_:1,__:[5]},8,["to"])])])],32)}}}),te=S(x,[["__scopeId","data-v-4ddba4b2"]]);export{te as G};
